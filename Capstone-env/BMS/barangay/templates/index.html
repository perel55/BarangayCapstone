{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/index.css' %}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
{% endblock %}

{% block content %}

<style>
  /* Image Slider Enhancements */
  .image-slider {
      width: 100%;
      max-height: 500px;
      overflow: hidden;
      position: sticky;
      border-radius: 15px;
      box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.3);
      margin-top: 100px;
  }
  
  .image-slider img {
      height: 500px;
      object-fit: cover;
      filter: brightness(70%); /* Darken images slightly for better text contrast */
  }
  
  /* Custom Styling for Captions */
  .carousel-caption {
      position: absolute;
      top: 50%;
      left: 10%; /* Move text to the left */
      transform: translateY(-50%);
      text-align: left;
      padding: 15px 20px;
      border-radius: 10px;
      width: 50%;
  }
  
  /* Styling for Caption Text */
  .carousel-caption h3 {
      font-size: 2.5rem; /* Larger heading */
      font-weight: bold;
      text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
  }
  
  .carousel-caption p {
      font-size: 1.2rem; /* Larger subtitle */
      font-weight: 400;
      font-style: italic;
      text-shadow: 1px 1px 6px rgba(0, 0, 0, 0.7);
  }
  
  /* Navigation Controls */
  .carousel-control-prev-icon,
  .carousel-control-next-icon {
      background-color: rgba(0, 0, 0, 0.7); /* Darker for visibility */
      border-radius: 50%;
      padding: 12px;
  }
  
  /* Smooth Transitions */
  .carousel-item {
      transition: transform 1s ease-in-out, opacity 1s ease-in-out;
  }
  </style>
  
<body>
  {% include "nav.html" %}
  
  <div class="main-div">
    
    <div class="image-slider">
      <!-- Image Slider Section -->
      <div id="barangayCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
        <div class="carousel-inner">
          <!-- Slide 1 -->
          <div class="carousel-item active">
            <img src="{% static 'images/slide1.jpg' %}" class="d-block w-100" alt="Barangay Lala Proper">
            <div class="carousel-caption d-none d-md-block">
              <h3>Welcome to Barangay Lala Proper</h3>
              <p>"A community united for progress and harmony."</p>
            </div>
          </div>
          <!-- Slide 2 -->
          <div class="carousel-item">
            <img src="{% static 'images/slide2.jpg' %}" class="d-block w-100" alt="Community">
            <div class="carousel-caption d-none d-md-block">
              <h3>Empowering Every Citizen</h3>
              <p>"Your needs, our priority. Together, we grow."</p>
            </div>
          </div>
          <!-- Slide 3 -->
          <div class="carousel-item">
            <img src="{% static 'images/slide3.jpg' %}" class="d-block w-100" alt="Development">
            <div class="carousel-caption d-none d-md-block">
              <h3>A Barangay of Progress</h3>
              <p>"Building a better future, one step at a time."</p>
            </div>
          </div>
        </div>

        <!-- Carousel Controls -->
        <button class="carousel-control-prev" type="button" data-bs-target="#barangayCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#barangayCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
    
    <div class="services-container mt-5">
      <div class="row">
        <!-- Administrative Services Card -->
        <div class="col-md-6 mb-4">
          <div class="custom-card h-100 text-center">
            <div class="icon-section admin-icon"></div>
            <div class="card-body">
              <h5 class="card-title">Administrative Services</h5>
              <p class="card-text">Explore all available administrative services, such as barangay clearance, ID issuance, and more.</p>
              <a href="{% url 'residentAS' %}" class="btn btn-primary">View Administrative Services</a>
            </div>
          </div>
        </div>

        <!-- Health Services Card -->
        <div class="col-md-6 mb-4">
          <div class="custom-card h-100 text-center">
            <div class="icon-section health-icon"></div>
            <div class="card-body">
              <h5 class="card-title">Health Services</h5>
              <p class="card-text">Explore all available health services, including immunizations, health check-ups, and outbreak monitoring.</p>
              <a href="{% url 'residentHS' %}" class="btn btn-success">View Health Services</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
{% endblock %}

{% block scripts %}
    <!-- Bootstrap JavaScript Bundle (includes Popper.js) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        window.addEventListener("beforeunload", function () {
            navigator.sendBeacon("/accounts/logout/");
        });

        // Ensure Bootstrap Carousel works
        document.addEventListener("DOMContentLoaded", function () {
            var myCarousel = new bootstrap.Carousel(document.getElementById("barangayCarousel"), {
                interval: 3000,  // Auto-slide every 3 seconds
                ride: "carousel" // Ensures it starts automatically
            });
        });
    </script>
{% endblock %}
