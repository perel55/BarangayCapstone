{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'css/residentHS.css' %}">
{% endblock %}

<body>
    {% block content %}
    <div class="adminContainer">
        {% include 'resident/residentTopnav.html' %}
        <div class="MC-Bottom">
            {% include 'resident/residentNav1.html' %}

            <div class="contents">
                <section id="content">
                    <h2>Schedule History</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Username</th>
                                <th>Full Name</th>
                                <th>Service</th>
                                <th>Purok</th>
                                <th>Date</th>
                                <th>Time</th>
                                <th>Phone Number</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for schedule in schedules %}
                            <tr>
                                <td>{{ schedule.user.username }}</td>
                                <td>{{ schedule.user.first_name }} {{ schedule.user.last_name }}</td>
                                <td>{{ schedule.service.service_name }}</td>
                                <td>{{ resident.zone }}</td>
                                <td>{{ schedule.date }}</td>
                                <td>{{ schedule.start_time }}</td>
                                <td>{{ resident.phone_number }}</td>
                                <td>{{ schedule.status }}</td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="8">No schedules found.</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>

                    <h2>Request History</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Username</th>
                                <th>Full Name</th>
                                <th>Service</th>
                                <th>Purok</th>
                                <th>Date</th>
                                <th>Time</th>
                                <th>Phone Number</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for request in request %}
                            <tr>
                                <td>{{ request.user.username }}</td>
                                <td>{{ request.user.first_name }} {{ request.user.last_name }}</td>
                                <td>{{ request.service_id.service_name }}</td>
                                <td>{{ resident.zone }}</td>
                                <td>{{ request.schedule_date }}</td>
                                <td>{{ request.schedule_start_time }}</td>
                                <td>{{ resident.phone_number }}</td>
                                <td>{{ request.status }}</td> <!-- Replace with actual status field if available -->
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="8">No requests found.</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </section>
            </div>
        </div>
    </div>
    {% endblock %}
</body>
